import{r as o,j as e,L as b,A as g,u as j,a as v,b as y,d as N,c as E,i as R,F as w,N as z,R as D}from"./index-cc70cc00.js";const M=o.memo(function({children:r}){return e.jsxs("p",{children:[e.jsx("span",{className:"text-zinc-100",children:"Cast: "}),e.jsx("span",{"data-testid":"details-cast",children:r})]})}),i=""+new URL("chevron-left-7e30d634.svg",import.meta.url).href,T=o.memo(function(){return e.jsx(b,{"data-testid":"details-close",to:"/",children:e.jsxs("div",{className:"group relative my-auto flex h-10 w-10 cursor-pointer items-center justify-center overflow-hidden rounded-full py-2 before:absolute before:h-full before:w-full before:rounded-full before:bg-neutral-800 before:transition-all before:duration-700 before:ease-out hover:before:scale-95",children:[e.jsx("img",{src:i,alt:"",className:"z-10 group-hover:-translate-x-8 group-hover:opacity-0 group-hover:transition-all group-hover:duration-500 group-hover:ease-[cubic-bezier(.26,.81,.21,.98)]"}),e.jsx("img",{src:i,alt:"",className:"absolute z-10 translate-x-8 opacity-0 group-hover:translate-x-0 group-hover:opacity-100 group-hover:transition-all group-hover:duration-500 group-hover:ease-[cubic-bezier(.26,.81,.21,.98)]"})]})})}),P=o.memo(function({children:r}){return e.jsx("p",{"data-testid":"details-description",className:"mb-2",children:r})}),k=o.memo(function({children:r}){return e.jsxs("p",{children:[e.jsx("span",{className:"text-zinc-100",children:"Directed By: "}),e.jsx("span",{"data-testid":"details-director",children:r})]})}),A=o.memo(function({children:r}){return e.jsx("span",{"data-testid":"details-genre",children:r})}),B=o.memo(function({poster:r,title:s}){return e.jsx("img",{"data-testid":"details-poster",className:"absolute h-full w-full rounded-4xl object-cover",src:r,alt:`The poster of ${s} film`})}),L=o.memo(function({rating:r,votes:s}){return e.jsxs("span",{"data-testid":"details-rating",children:["⭐",r,"/10 | 🍿",s]})}),$=o.memo(function({time:r,year:s}){return e.jsxs("span",{"data-testid":"details-runtime",children:[r," | ",s]})}),G=o.memo(function({children:r}){return e.jsx("h2",{"data-testid":"details-title",className:"text-2xl font-semibold text-zinc-100",children:r})});function F(t){o.useEffect(()=>(t&&(document.title=t),()=>{document.title=g}),[t])}function C(){const{pathname:t}=j(),r=t.slice(1),{data:s,isFetching:n}=v(r),a=y();if(o.useEffect(()=>{a(N(n))},[a,n]),s&&"Error"in s)throw new Error(s.Error);return s}function H(t){const r=Number(t.slice(0,-4)),s=Math.floor(r/60),n=Math.floor(r%60);return s!==0?`${s}h ${n}m`:`${n}m`}function S(){const t=C();if(F(`Cinemania | ${t==null?void 0:t.Title}`),!t)return null;const{Poster:r,Title:s,Runtime:n,Genre:a,Plot:c,Year:l,imdbRating:d,imdbVotes:u,Director:m,Actors:f}=t,h=H(n),p=`${c.slice(0,150)}...`,x=r===z?D:r;return e.jsx("div",{"data-testid":"details-section","data-scroll":"true","data-scroll-sticky":"true","data-scroll-target":"section",className:"h-[540px] flex-1 animate-fade-in overflow-hidden rounded-5xl border-l border-t border-white/20 bg-white/10 p-2 text-neutral-200 shadow-2xl backdrop-brightness-150 backdrop-saturate-200",children:e.jsxs("div",{className:"relative flex h-full saturate-200 before:absolute before:left-0 before:top-0 before:z-10 before:h-full before:w-full before:rounded-4xl before:bg-gradient-to-r before:from-zinc-950 before:to-neutral-950/70",children:[e.jsx(B,{poster:x,title:s}),e.jsxs("article",{className:"z-10 grid max-w-md content-start gap-4 px-8 py-8 text-zinc-400",children:[e.jsx(T,{}),e.jsx(G,{children:s}),e.jsx($,{year:l,time:h}),e.jsx(A,{children:a}),e.jsx(L,{rating:d,votes:u}),e.jsx(P,{children:p}),e.jsx(k,{children:m}),e.jsx(M,{children:f})]})]})})}S.displayName="MovieDetails";function I(){const t=E(),r=R(t)?e.jsxs("h1",{children:[t.status," ",t.statusText]}):e.jsx("h1",{children:t.message});return e.jsx(w,{children:r})}I.displayName="MovieDetailsErrorBoundary";export{S as Component,I as ErrorBoundary};
